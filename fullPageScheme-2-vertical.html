<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <title>整屏(竖屏)滚动方案</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <style>
    body {
      margin: 0;
    }

    .fullpage {
      display: block;
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      box-sizing: border-box;
    }

    .fullpage .wrap {
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      overflow-y: auto;
    }

    .fullpage .page {
      width: 100vw;
      height: 100vh;
      overflow: auto;
    }
  </style>
</head>

<body>
  <div id="app" class="fullpage">
    <div class="wrap">
      <div class="page" style="background: red">
        <div>基本思路：竖屏滚动比较简单，将所有页面顺序排列。每次滚动计算相对位移判断滚动方向，计算下一目标位移，最后开启动画。<br>使用了window.requestAnimationFrame动画优化API。此API理解为setInterval，参数为一个回调函数，该函数接受一个timestamp，以此为依据计算并作出一步动画。<br>你需要自己在回调函数中判断是否继续调用下一次动画</div>
      </div>
      <div class="page" style="background: yellow">
        <div>
          菜鸟教程 -- 学的不仅是技术，更是梦想！

          搜索……
          首页 HTML CSS JAVASCRIPT JQUERY BOOTSTRAP SQL MYSQL PHP PYTHON2 PYTHON3 C C++ C# JAVA 本地书签
          Java 教程
          Java 教程
          Java 简介
          Java 开发环境配置
          Java 基础语法
          Java 对象和类
          Java 基本数据类型
          Java 变量类型
          Java 修饰符
          Java 运算符
          Java 循环结构
          Java 条件语句
          Java switch case
          Java Number & Math 类
          Java Character 类
          Java String 类
          Java StringBuffer
          Java 数组
          Java 日期时间
          Java 正则表达式
          Java 方法
          Java Stream、File、IO
          Java Scanner 类
          Java 异常处理

          Java 面向对象
          Java 继承
          Java Override/Overload
          Java 多态
          Java 抽象类
          Java 封装
          Java 接口
          Java 包(package)

          Java 高级教程
          Java 数据结构
          Java 集合框架
          Java 泛型
          Java 序列化
          Java 网络编程
          Java 发送邮件
          Java 多线程编程
          Java Applet 基础
          Java 文档注释
          Java 实例
          Java 8 新特性
          Java MySQL 连接
          Java 9 新特性
          Java 抽象类 Java 接口
          Java 封装
          在面向对象程式设计方法中，封装（英语：Encapsulation）是指一种将抽象性函式接口的实现细节部份包装、隐藏起来的方法。

          封装可以被认为是一个保护屏障，防止该类的代码和数据被外部类定义的代码随机访问。

          要访问该类的代码和数据，必须通过严格的接口控制。

          封装最主要的功能在于我们能修改自己的实现代码，而不用修改那些调用我们代码的程序片段。

          适当的封装可以让程式码更容易理解与维护，也加强了程式码的安全性。

          封装的优点
          1. 良好的封装能够减少耦合。

          2. 类内部的结构可以自由修改。

          3. 可以对成员变量进行更精确的控制。

          4. 隐藏信息，实现细节。

          实现Java封装的步骤
          1. 修改属性的可见性来限制对属性的访问（一般限制为private），例如：

          public class Person {
          private String name;
          private int age;
          }
          这段代码中，将 name 和 age 属性设置为私有的，只能本类才能访问，其他类都访问不了，如此就对信息进行了隐藏。

          2. 对每个值属性提供对外的公共方法访问，也就是创建一对赋取值方法，用于对私有属性的访问，例如：

          public class Person{
          private String name;
          private int age;
          ​
          public int getAge(){
          return age;
          }
          ​
          public String getName(){
          return name;
          }
          ​
          public void setAge(int age){
          this.age = age;
          }
          ​
          public void setName(String name){
          this.name = name;
          }
          }
          采用 this 关键字是为了解决实例变量（private String name）和局部变量（setName(String name)中的name变量）之间发生的同名的冲突。

          实例
          让我们来看一个java封装类的例子：

          EncapTest.java 文件代码：
          /* 文件名: EncapTest.java */
          public class EncapTest{

          private String name;
          private String idNum;
          private int age;

          public int getAge(){
          return age;
          }

          public String getName(){
          return name;
          }

          public String getIdNum(){
          return idNum;
          }

          public void setAge( int newAge){
          age = newAge;
          }

          public void setName(String newName){
          name = newName;
          }

          public void setIdNum( String newId){
          idNum = newId;
          }
          }
          以上实例中public方法是外部类访问该类成员变量的入口。

          通常情况下，这些方法被称为getter和setter方法。

          因此，任何要访问类中私有成员变量的类都要通过这些getter和setter方法。

          通过如下的例子说明EncapTest类的变量怎样被访问：

          RunEncap.java 文件代码：
          /* F文件名 : RunEncap.java */
          public class RunEncap{
          public static void main(String args[]){
          EncapTest encap = new EncapTest();
          encap.setName("James");
          encap.setAge(20);
          encap.setIdNum("12343ms");

          System.out.print("Name : " + encap.getName()+
          " Age : "+ encap.getAge());
          }
          }
          以上代码编译运行结果如下:

          Name : James Age : 20
          Java 抽象类 Java 接口
          点我分享笔记


          分类导航
          HTML / CSS
          JavaScript
          服务端
          数据库
          移动端
          XML 教程
          ASP.NET
          Web Service
          开发工具
          网站建设

          Advertisement


          反馈/建议反馈/建议
          在线实例
          ·HTML 实例
          ·CSS 实例
          ·JavaScript 实例
          ·Ajax 实例
          ·jQuery 实例
          ·XML 实例
          ·Java 实例
          字符集&工具
          · HTML 字符集设置
          · HTML ASCII 字符集
          · HTML ISO-8859-1
          · HTML 实体符号
          · HTML 拾色器
          · JSON 格式化工具
          最新更新
          · TypeScript 函数
          · TypeScript 循环
          · TypeScript 条件...
          · TypeScript 运算符
          · TypeScript 变量...
          · TypeScript 基础...
          · TypeScript 基...
          站点信息
          · 意见反馈
          ·
          · 免责声明
          · 关于我们
          · 文章归档
          关注微信

          Copyright © 2013-2019 菜鸟教程 runoob.com All Rights Reserved. 备案号：闽ICP备15012807号-1
          菜鸟教程 -- 学的不仅是技术，更是梦想！

          搜索……
          首页 HTML CSS JAVASCRIPT JQUERY BOOTSTRAP SQL MYSQL PHP PYTHON2 PYTHON3 C C++ C# JAVA 本地书签
          Java 教程
          Java 教程
          Java 简介
          Java 开发环境配置
          Java 基础语法
          Java 对象和类
          Java 基本数据类型
          Java 变量类型
          Java 修饰符
          Java 运算符
          Java 循环结构
          Java 条件语句
          Java switch case
          Java Number & Math 类
          Java Character 类
          Java String 类
          Java StringBuffer
          Java 数组
          Java 日期时间
          Java 正则表达式
          Java 方法
          Java Stream、File、IO
          Java Scanner 类
          Java 异常处理

          Java 面向对象
          Java 继承
          Java Override/Overload
          Java 多态
          Java 抽象类
          Java 封装
          Java 接口
          Java 包(package)

          Java 高级教程
          Java 数据结构
          Java 集合框架
          Java 泛型
          Java 序列化
          Java 网络编程
          Java 发送邮件
          Java 多线程编程
          Java Applet 基础
          Java 文档注释
          Java 实例
          Java 8 新特性
          Java MySQL 连接
          Java 9 新特性
          Java 抽象类 Java 接口
          Java 封装
          在面向对象程式设计方法中，封装（英语：Encapsulation）是指一种将抽象性函式接口的实现细节部份包装、隐藏起来的方法。

          封装可以被认为是一个保护屏障，防止该类的代码和数据被外部类定义的代码随机访问。

          要访问该类的代码和数据，必须通过严格的接口控制。

          封装最主要的功能在于我们能修改自己的实现代码，而不用修改那些调用我们代码的程序片段。

          适当的封装可以让程式码更容易理解与维护，也加强了程式码的安全性。

          封装的优点
          1. 良好的封装能够减少耦合。

          2. 类内部的结构可以自由修改。

          3. 可以对成员变量进行更精确的控制。

          4. 隐藏信息，实现细节。

          实现Java封装的步骤
          1. 修改属性的可见性来限制对属性的访问（一般限制为private），例如：

          public class Person {
          private String name;
          private int age;
          }
          这段代码中，将 name 和 age 属性设置为私有的，只能本类才能访问，其他类都访问不了，如此就对信息进行了隐藏。

          2. 对每个值属性提供对外的公共方法访问，也就是创建一对赋取值方法，用于对私有属性的访问，例如：

          public class Person{
          private String name;
          private int age;
          ​
          public int getAge(){
          return age;
          }
          ​
          public String getName(){
          return name;
          }
          ​
          public void setAge(int age){
          this.age = age;
          }
          ​
          public void setName(String name){
          this.name = name;
          }
          }
          采用 this 关键字是为了解决实例变量（private String name）和局部变量（setName(String name)中的name变量）之间发生的同名的冲突。

          实例
          让我们来看一个java封装类的例子：

          EncapTest.java 文件代码：
          /* 文件名: EncapTest.java */
          public class EncapTest{

          private String name;
          private String idNum;
          private int age;

          public int getAge(){
          return age;
          }

          public String getName(){
          return name;
          }

          public String getIdNum(){
          return idNum;
          }

          public void setAge( int newAge){
          age = newAge;
          }

          public void setName(String newName){
          name = newName;
          }

          public void setIdNum( String newId){
          idNum = newId;
          }
          }
          以上实例中public方法是外部类访问该类成员变量的入口。

          通常情况下，这些方法被称为getter和setter方法。

          因此，任何要访问类中私有成员变量的类都要通过这些getter和setter方法。

          通过如下的例子说明EncapTest类的变量怎样被访问：

          RunEncap.java 文件代码：
          /* F文件名 : RunEncap.java */
          public class RunEncap{
          public static void main(String args[]){
          EncapTest encap = new EncapTest();
          encap.setName("James");
          encap.setAge(20);
          encap.setIdNum("12343ms");

          System.out.print("Name : " + encap.getName()+
          " Age : "+ encap.getAge());
          }
          }
          以上代码编译运行结果如下:

          Name : James Age : 20
          Java 抽象类 Java 接口
          点我分享笔记


          分类导航
          HTML / CSS
          JavaScript
          服务端
          数据库
          移动端
          XML 教程
          ASP.NET
          Web Service
          开发工具
          网站建设

          Advertisement


          反馈/建议反馈/建议
          在线实例
          ·HTML 实例
          ·CSS 实例
          ·JavaScript 实例
          ·Ajax 实例
          ·jQuery 实例
          ·XML 实例
          ·Java 实例
          字符集&工具
          · HTML 字符集设置
          · HTML ASCII 字符集
          · HTML ISO-8859-1
          · HTML 实体符号
          · HTML 拾色器
          · JSON 格式化工具
          最新更新
          · TypeScript 函数
          · TypeScript 循环
          · TypeScript 条件...
          · TypeScript 运算符
          · TypeScript 变量...
          · TypeScript 基础...
          · TypeScript 基...
          站点信息
          · 意见反馈
          ·
          · 免责声明
          · 关于我们
          · 文章归档
          关注微信

          Copyright © 2013-2019 菜鸟教程 runoob.com All Rights Reserved. 备案号：闽ICP备15012807号-1

        </div>
      </div>
      <div class="page" style="background: blue"></div>
    </div>
    <script>
      wrap = document.querySelector(".wrap");

      function FullPageScroll(selector) {
        let el = document.querySelector(selector);
        let wrap = el.querySelector(".wrap");
        let pages = [].map.call(el.querySelectorAll(".page"), _ => _);
        let current = 0;
        let lastScrollTop = 0;

        wrap.ontouchend = onScrollEnd;
        wrap.onmouseup = onScrollEnd;

        function onScrollEnd(ev) {
          // console.log(this.scrollTop)；
          if (this.scrollTop > lastScrollTop) {
            current = Math.ceil(this.scrollTop / this.offsetHeight);
          } else {
            current = Math.floor(this.scrollTop / this.offsetHeight);
          }
          ScrollTo(this, current * this.offsetHeight, 500); // async
          lastScrollTop = current * this.offsetHeight;
        }

        function ScrollTo(el, endAt, duration) {
          let start = null;
          let startAt = el.scrollTop;
          let diff = endAt - startAt;

          function step(timestamp) {
            if (!start) start = timestamp;
            var progress = timestamp - start;
            el.scrollTop = diff * Math.min(progress / duration, 1) + startAt;
            if (progress < duration) {
              window.requestAnimationFrame(step);
            }
          }
          window.requestAnimationFrame(step);
        }
      }

      let scrollobj = new FullPageScroll("#app");
    </script>
</body>

</html>